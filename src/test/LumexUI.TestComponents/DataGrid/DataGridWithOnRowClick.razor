@namespace LumexUI.TestComponents.DataGrid

<LumexGrid TGridItem="TestModel" Data="@_data" OnRowClick="@OnRowClickHandler">
    <Columns>
        <Column Property="@(t => t!.Name)" />
        <Column Property="@(t => t!.Price)" />
    </Columns>
</LumexGrid>

@foreach (var evt in _events)
{
    <p>@evt</p>
}

@code {
    private IQueryable<TestModel> _data = new List<TestModel>()
     {
         new TestModel("Apple", 0.75),
         new TestModel("Banana", 1.0),
         new TestModel("Kiwi", 1.33)
     }.AsQueryable();

    private List<string> _events = new();

    public record TestModel( string Name, double Price );

    public GridRowClickedEventArgs<TestModel>? GridRowClickArgs { get; private set; }

    private void OnRowClickHandler(GridRowClickedEventArgs<TestModel> args)
    {
        _events.Insert(0, $"DataItem - {args.Item} RowIndex - {args.RowIndex}; MouseEventArgs - {System.Text.Json.JsonSerializer.Serialize(args.MouseEventArgs)}");

        GridRowClickArgs = args;
    }
}
