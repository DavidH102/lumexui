@namespace LumexUI.Grid
@typeparam TGridItem
@typeparam TProp
@inherits EditableColumn<TGridItem, TProp>

@{
	base.BuildRenderTree( __builder );
}

@code {
	protected override void RenderCellContent( RenderTreeBuilder __builder, CellBase<TGridItem> cell )
	{
		if( cell is PasteableCell<TGridItem, TProp> pasteCell )
		{
			@if( pasteCell.IsInvalid && !pasteCell.IsEditing )
			{
				RenderDefaultInvalidTemplate( __builder, pasteCell );
			}
			else
			{
				base.RenderCellContent( __builder, pasteCell );
			}
		}
	}

	private void RenderDefaultInvalidTemplate( RenderTreeBuilder __builder, PasteableCell<TGridItem, TProp> cell )
	{
		if( InvalidTemplate is not null )
		{
			@InvalidTemplate
		}
		else
		{
			@RenderInvalidCellValue( cell )
		}
	}
}
