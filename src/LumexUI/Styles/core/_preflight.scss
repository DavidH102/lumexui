@import '../essentials/variables';

// Preflight


/*
	1. Prevent padding and border from affecting element width.
	2. Allow adding a border to an element by just adding a border-width.
*/

*,
*::before,
*::after {
	box-sizing: border-box; /* 1 */
	border: 0 var(--lumex-border-style) var(--lumex-border-color, currentColor); /* 2 */
}


/* Use a more readable tab size. */

html {
	-moz-tab-size: 4;
	tab-size: 4;
}


/*
	1. Apply a default `min-height`.
	2. Remove the margin in all browsers.
	3. As a best practice, apply a default `background-color`.
	4. Prevent adjustments of font size after orientation changes in iOS.
	5. Change the default tap highlight to be completely transparent in iOS.
*/

body {
	min-height: 100vh; /* 1 */
	margin: 0; /* 2 */
	font-family: var(--lumex-body-font-family);
	font-size: var(--lumex-body-font-size);
	font-weight: var(--lumex-body-font-weight);
	line-height: var(--lumex-body-line-height);
	color: hsl(var(--lumex-body-color));
	background-color: hsl(var(--lumex-body-bg)); /* 3 */
	-webkit-text-size-adjust: 100%; /* 4 */
	-webkit-tap-highlight-color: transparent; /* 5 */
}


/*
	1. Add the correct height in Firefox.
	2. Correct the inheritance of border color in Firefox.
	3. Ensure horizontal rules are visible by default.
*/

hr {
	height: 0; /* 1 */
	color: inherit; /* 2 */
	border-top-width: var(--lumex-border-width); /* 3 */
}


/* Reset headings. */

%heading {
	font-family: inherit;
	font-weight: inherit;
	line-height: 1.2;
	color: var(--lumex-body-accent-color);
}

h1 {
	@extend %heading;
	font-size: $h1-font-size;
}

h2 {
	@extend %heading;
	font-size: $h2-font-size;
}

h3 {
	@extend %heading;
	font-size: $h3-font-size;
}

h4 {
	@extend %heading;
	font-size: $h4-font-size;
}

h5 {
	@extend %heading;
	font-size: $h5-font-size;
}

h6 {
	@extend %heading;
	font-size: $h6-font-size;
}


/*
	1. Add the correct text decoration in Chrome, Edge, Opera, and Safari.
	2. Add explicit cursor to indicate changed behavior.
	3. Prevent the text-decoration to be skipped.
*/

abbr:where([title]) {
	text-decoration: underline dotted; /* 1 */
	cursor: help; /* 2 */
	text-decoration-skip-ink: none; /* 3 */
}


/* Reset links to optimize for opt-in styling instead of opt-out. */

a {
	color: var( --lumex-link-color );
	text-decoration: underline;
}


/* Add the correct font weight in Chrome, Edge, and Safari */

b,
strong {
	font-weight: bolder;
}


/* Add the correct font size in all browsers. */

small {
	font-size: 80%;
}


/* Prevent `sub` and `sup` elements from affecting the line height in all browsers. */

sub,
sup {
	position: relative;
	font-size: 75%;
	line-height: 0;
	vertical-align: baseline;
}

sub { bottom: -0.25em; }
sup { top: -0.5em; }


/* Removes the default spacing and border for appropriate elements. */

blockquote,
dl,
dd,
h1,
h2,
h3,
h4,
h5,
h6,
figure,
ol,
ul,
hr,
p,
pre {
	margin: 0;
}

fieldset {
	margin: 0;
	padding: 0;
}

legend {
	padding: 0;
}

/*
	1. Use the user's configured `mono` font family by default.
	2. Correct the odd `em` font sizing in all browsers.
*/

code,
kbd,
samp,
pre {
	font-family: var(--lumex-font-monospace); /* 1 */
	font-size: 1em; /* 2 */
}


/* Don't allow content to break outside. */

pre {
	font-size: .875em;
	overflow-x: auto;
}


/*
	1. Correct table border color inheritance in all Chrome and Safari.
	2. Remove gaps between table borders by default.
*/

table {
	border-color: inherit; /* 1 */
	border-collapse: collapse; /* 2 */
}


/*
	1. Match default `<td>` alignment by inheriting `text-align`.
	2. Fix alignment for Safari.
*/

th {
	text-align: inherit; /* 1 */
	text-align: -webkit-match-parent; /* 2 */
}


/*
	1. Change the font styles in all browsers.
	2. Remove the margin in Firefox and Safari.
	3. Remove default padding in all browsers.
*/

input,
button,
select,
optgroup,
textarea {
	font-family: inherit; /* 1 */
	font-size: inherit; /* 1 */
	font-weight: inherit; /* 1 */
	line-height: inherit; /* 1 */
	color: inherit; /* 1 */
	margin: 0; /* 2 */
	padding: 0; /* 3 */
}


/* Remove the inheritance of text transform in Edge and Firefox. */

button,
select {
	text-transform: none;
}


/*
	1. Correct the inability to style clickable types in iOS and Safari.
	2. Remove default button styles.
*/

button,
[type="button"],
[type="reset"],
[type="submit"] {
	-webkit-appearance: button; /* 1 */
	background-color: transparent; /* 2 */
}


/* Set the default cursor for buttons. */

button,
[role="button"] {
	cursor: pointer;
}


/* Remove the inner border and padding in Firefox. */

::-moz-focus-inner {
	border-style: none;
	padding: 0;
}


/* Prevent resizing textareas horizontally by default. */

textarea {
	resize: vertical;
}


/* Add the correct vertical alignment in Chrome and Firefox. */

progress {
	vertical-align: baseline;
}


/* Add the correct display in Chrome and Safari. */

summary {
	display: list-item;
}


/*
	1. Correct the odd appearance in Chrome and Safari.
	2. Correct the outline style in Safari.
*/

[type="search"] {
	-webkit-appearance: textfield; /* 1 */
	outline-offset: -2px; /* 2 */
}


/* Remove the inner padding in Chrome and Safari on macOS. */

::-webkit-search-decoration {
	-webkit-appearance: none;
}


/*
	1. Make replaced elements `display: block` by default.
	2. Add `vertical-align: middle` to align replaced elements more sensibly by default.
*/

img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
	display: block; /* 1 */
	vertical-align: middle; /* 2 */
}


/* Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. */

img,
video {
	max-width: 100%;
	height: auto;
}


/* Make elements with the HTML hidden attribute stay hidden by default. */

[hidden] {
	display: none;
}


/* Anything that has been anchored to should have extra scroll margin */

/*:target {
	scroll-margin-block: 5ex;
}*/


/* Remove all animations and transitions for people that prefer not to see them. */

@media (prefers-reduced-motion: reduce) {
	html:focus-within {
		scroll-behavior: auto;
	}

	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}